import{s as A,f as g,a as S,g as b,h as q,T,c as E,d as _,j as C,i as k,u as p,C as D,K as H,D as L,I as z,o as G,X as J,S as K,p as P,e as I,R as V,l as N,m as j,n as W}from"../chunks/scheduler.2996579b.js";import{e as B}from"../chunks/each.4e61ef43.js";import{S as X,i as F}from"../chunks/index.00b56f8c.js";import{u as O}from"../chunks/stores.88811b96.js";import{g as Y}from"../chunks/navigation.050f18ba.js";import{s as y,p as M}from"../chunks/alerts.73a0c392.js";import{g as Q,c as Z,m as $}from"../chunks/convo.1568beab.js";import{g as tt}from"../chunks/settings.82a6606d.js";function R(r,t,n){const e=r.slice();return e[11]=t[n],e}function et(r){let t,n="There aren't any yet! Make one!";return{c(){t=g("h2"),t.textContent=n,this.h()},l(e){t=b(e,"H2",{class:!0,["data-svelte-h"]:!0}),T(t)!=="svelte-ourse3"&&(t.textContent=n),this.h()},h(){C(t,"class","h2 text-center")},m(e,s){k(e,t,s)},p:H,d(e){e&&_(t)}}}function st(r){let t,n=B(r[0]),e=[];for(let s=0;s<n.length;s+=1)e[s]=U(R(r,n,s));return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=I()},l(s){for(let o=0;o<e.length;o+=1)e[o].l(s);t=I()},m(s,o){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(s,o);k(s,t,o)},p(s,o){if(o&5){n=B(s[0]);let a;for(a=0;a<n.length;a+=1){const d=R(s,n,a);e[a]?e[a].p(d,o):(e[a]=U(d),e[a].c(),e[a].m(t.parentNode,t))}for(;a<e.length;a+=1)e[a].d(1);e.length=n.length}},d(s){s&&_(t),V(e,s)}}}function U(r){let t,n,e=r[11].name+"",s,o,a,d,h;function v(){return r[5](r[11])}return{c(){t=g("button"),n=N("Enter "),s=N(e),o=S(),a=g("br"),this.h()},l(i){t=b(i,"BUTTON",{class:!0});var c=q(t);n=j(c,"Enter "),s=j(c,e),c.forEach(_),o=E(i),a=b(i,"BR",{}),this.h()},h(){C(t,"class","btn bg-gradient-to-br variant-filled-secondary mt-3 w-25 text-sm lg:text-base h-8 lg:h-10")},m(i,c){k(i,t,c),p(t,n),p(t,s),k(i,o,c),k(i,a,c),d||(h=D(t,"click",v),d=!0)},p(i,c){r=i,c&1&&e!==(e=r[11].name+"")&&W(s,e)},d(i){i&&(_(t),_(o),_(a)),d=!1,h()}}}function nt(r){let t,n,e="Make Your Own",s,o,a="Join a Class",d,h,v="Your Classes:",i,c,w;function x(f,m){return f[0].length?st:et}let l=x(r),u=l(r);return{c(){t=g("div"),n=g("button"),n.textContent=e,s=S(),o=g("button"),o.textContent=a,d=S(),h=g("h1"),h.textContent=v,i=S(),u.c(),this.h()},l(f){t=b(f,"DIV",{class:!0});var m=q(t);n=b(m,"BUTTON",{class:!0,["data-svelte-h"]:!0}),T(n)!=="svelte-1fdacsv"&&(n.textContent=e),s=E(m),o=b(m,"BUTTON",{class:!0,["data-svelte-h"]:!0}),T(o)!=="svelte-fqf2i7"&&(o.textContent=a),d=E(m),h=b(m,"H1",{class:!0,["data-svelte-h"]:!0}),T(h)!=="svelte-ls11fh"&&(h.textContent=v),i=E(m),u.l(m),m.forEach(_),this.h()},h(){C(n,"class","btn mb-10 text-center variant-filled"),C(o,"class","btn mb-10 text-center variant-filled"),C(h,"class","h1 text-center mb-5"),C(t,"class","m-4 overflow-auto")},m(f,m){k(f,t,m),p(t,n),p(t,s),p(t,o),p(t,d),p(t,h),p(t,i),u.m(t,null),r[6](t),c||(w=[D(n,"click",r[4]),D(o,"click",r[3])],c=!0)},p(f,[m]){l===(l=x(f))&&u?u.p(f,m):(u.d(1),u=l(f),u&&(u.c(),u.m(t,null)))},i:H,o:H,d(f){f&&_(t),u.d(),r[6](null),c=!1,L(w)}}}function ot(r,t,n){let e;z(r,O,l=>n(7,e=l));let s=[],o;window.addEventListener("resize",()=>{try{n(1,o.style.maxHeight=(window.innerHeight-134).toString()+"px",o)}catch{}});async function a(){const l=(await tt(["convos"])).data.convos;n(0,s=[]),l.forEach(async u=>{const f=await Q(u);f.chatroom||(f.cid=u,s.push(f),n(0,s))})}var d;G(async function(){n(1,o.style.maxHeight=(window.innerHeight-134).toString()+"px",o),e.token||Y("/login"),a()});async function h(l){l?K(O,e.cid=l,e):y("Something has gone like really wrong. Go contact an admin about non-existant CID. Error detail: "+l),Y("/class")}async function v(){M("What is the class code?",async l=>{l?await Z(l)?y("All done! Should show up soon!"):y("The code was probably wrong/"):y("You need to type in a code!")})}async function i(l){await $(l,"",!1)&&(y("All's well! Should show up soon!"),setTimeout(a,2e3))}async function c(){M("Name of the Class?",l=>{l?i(l):y("You need a class name!")})}J(()=>{clearInterval(d)});const w=l=>h(l.cid);function x(l){P[l?"unshift":"push"](()=>{o=l,n(1,o)})}return[s,o,h,v,c,w,x]}class mt extends X{constructor(t){super(),F(this,t,ot,nt,A,{})}}export{mt as component};
