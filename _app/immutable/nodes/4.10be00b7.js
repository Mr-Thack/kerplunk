import{s as L,f as b,a as C,g as v,h as E,T as x,c as S,d as p,j as k,i as y,u as g,C as M,K as T,I as U,o as q,X as z,p as A,e as H,R as K,l as D,m as I,n as V}from"../chunks/scheduler.2996579b.js";import{e as N}from"../chunks/each.4e61ef43.js";import{S as W,i as X}from"../chunks/index.00b56f8c.js";import{g as F}from"../chunks/endpoint.4b649916.js";import{u as G}from"../chunks/stores.88811b96.js";import{g as j}from"../chunks/navigation.996d2355.js";import{p as O,c as Q,s as P}from"../chunks/alerts.73a0c392.js";import{j as Z,m as $}from"../chunks/convo.8f42bf82.js";function R(r,t,n){const e=r.slice();return e[12]=t[n],e}function tt(r){let t,n="There aren't any yet! Make one!";return{c(){t=b("h2"),t.textContent=n,this.h()},l(e){t=v(e,"H2",{class:!0,["data-svelte-h"]:!0}),x(t)!=="svelte-ourse3"&&(t.textContent=n),this.h()},h(){k(t,"class","h2 text-center")},m(e,a){y(e,t,a)},p:T,d(e){e&&p(t)}}}function et(r){let t,n=N(r[0]),e=[];for(let a=0;a<n.length;a+=1)e[a]=B(R(r,n,a));return{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=H()},l(a){for(let s=0;s<e.length;s+=1)e[s].l(a);t=H()},m(a,s){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(a,s);y(a,t,s)},p(a,s){if(s&5){n=N(a[0]);let o;for(o=0;o<n.length;o+=1){const h=R(a,n,o);e[o]?e[o].p(h,s):(e[o]=B(h),e[o].c(),e[o].m(t.parentNode,t))}for(;o<e.length;o+=1)e[o].d(1);e.length=n.length}},d(a){a&&p(t),K(e,a)}}}function B(r){let t,n,e=r[12]+"",a,s,o,h,c;function _(){return r[4](r[12])}return{c(){t=b("button"),n=D("Join "),a=D(e),s=C(),o=b("br"),this.h()},l(l){t=v(l,"BUTTON",{class:!0});var i=E(t);n=I(i,"Join "),a=I(i,e),i.forEach(p),s=S(l),o=v(l,"BR",{}),this.h()},h(){k(t,"class","btn bg-gradient-to-br variant-filled-secondary mt-3 w-25 text-sm lg:text-base h-8 lg:h-10")},m(l,i){y(l,t,i),g(t,n),g(t,a),y(l,s,i),y(l,o,i),h||(c=M(t,"click",_),h=!0)},p(l,i){r=l,i&1&&e!==(e=r[12]+"")&&V(a,e)},d(l){l&&(p(t),p(s),p(o)),h=!1,c()}}}function at(r){let t,n,e="Make Your Own!",a,s,o="Chatrooms:",h,c,_;function l(f,m){return f[0].length?et:tt}let i=l(r),u=i(r);return{c(){t=b("div"),n=b("button"),n.textContent=e,a=C(),s=b("h1"),s.textContent=o,h=C(),u.c(),this.h()},l(f){t=v(f,"DIV",{class:!0});var m=E(t);n=v(m,"BUTTON",{class:!0,["data-svelte-h"]:!0}),x(n)!=="svelte-h55r7m"&&(n.textContent=e),a=S(m),s=v(m,"H1",{class:!0,["data-svelte-h"]:!0}),x(s)!=="svelte-m7i81e"&&(s.textContent=o),h=S(m),u.l(m),m.forEach(p),this.h()},h(){k(n,"class","btn mb-10 text-center variant-filled"),k(s,"class","h1 text-center mb-5"),k(t,"class","m-4 overflow-auto")},m(f,m){y(f,t,m),g(t,n),g(t,a),g(t,s),g(t,h),u.m(t,null),r[5](t),c||(_=M(n,"click",r[3]),c=!0)},p(f,[m]){i===(i=l(f))&&u?u.p(f,m):(u.d(1),u=i(f),u&&(u.c(),u.m(t,null)))},i:T,o:T,d(f){f&&p(t),u.d(),r[5](null),c=!1,_()}}}function nt(r,t,n){let e;U(r,G,d=>n(9,e=d));var a="",s="",o=[],h;let c;window.addEventListener("resize",()=>{try{n(1,c.style.maxHeight=(window.innerHeight-134).toString()+"px",c)}catch{}});async function _(){n(0,o=(await F("chats")).data.chatrooms),console.log(o)}q(async function(){n(1,c.style.maxHeight=(window.innerHeight-134).toString()+"px",c),e.token||j("/login"),_(),h=setInterval(_,5e3)});async function l(d){await Z(d)&&j("/chat")}async function i(d,w){return await $(d,w,!0)}async function u(){O("Name of the chatroom?",async d=>{var w=!0;if(a=d,a)Q("Do You Want a Password?",async Y=>{Y&&O("Password Of The Chat Room?",async J=>{s=J})});else{var w=!1;P("You need a chat room name!")}w&&await i(a,s)&&P("All's well! Should show up soon!")})}z(()=>{clearInterval(h)});const f=d=>l(d);function m(d){A[d?"unshift":"push"](()=>{c=d,n(1,c)})}return[o,c,l,u,f,m]}class ft extends W{constructor(t){super(),X(this,t,nt,at,L,{})}}export{ft as component};
