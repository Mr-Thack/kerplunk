import{s as L,f as g,a as D,g as w,h as A,T as I,c as N,d as p,j as k,i as y,u as b,C as J,K as P,I as U,o as q,X as z,p as K,e as j,R as V,l as E,m as O,n as W}from"../chunks/scheduler.2996579b.js";import{e as R}from"../chunks/each.4e61ef43.js";import{S as X,i as F}from"../chunks/index.00b56f8c.js";import{g as G}from"../chunks/endpoint.115e5917.js";import{u as Q}from"../chunks/stores.0e991afd.js";import{g as x}from"../chunks/navigation.dcad6988.js";import{p as S,c as Z,s as T}from"../chunks/alerts.73a0c392.js";import{j as B,m as $}from"../chunks/convo.479b689e.js";import{b as H}from"../chunks/paths.cbfeffab.js";function M(l,t,n){const e=l.slice();return e[12]=t[n],e}function tt(l){let t,n="There aren't any yet! Make one!";return{c(){t=g("h2"),t.textContent=n,this.h()},l(e){t=w(e,"H2",{class:!0,["data-svelte-h"]:!0}),I(t)!=="svelte-ourse3"&&(t.textContent=n),this.h()},h(){k(t,"class","h2 text-center")},m(e,a){y(e,t,a)},p:P,d(e){e&&p(t)}}}function et(l){let t,n=R(l[0]),e=[];for(let a=0;a<n.length;a+=1)e[a]=Y(M(l,n,a));return{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=j()},l(a){for(let o=0;o<e.length;o+=1)e[o].l(a);t=j()},m(a,o){for(let s=0;s<e.length;s+=1)e[s]&&e[s].m(a,o);y(a,t,o)},p(a,o){if(o&5){n=R(a[0]);let s;for(s=0;s<n.length;s+=1){const u=M(a,n,s);e[s]?e[s].p(u,o):(e[s]=Y(u),e[s].c(),e[s].m(t.parentNode,t))}for(;s<e.length;s+=1)e[s].d(1);e.length=n.length}},d(a){a&&p(t),V(e,a)}}}function Y(l){let t,n,e=l[12][0]+"",a,o,s,u,c;function _(){return l[4](l[12])}return{c(){t=g("button"),n=E("Join "),a=E(e),o=D(),s=g("br"),this.h()},l(r){t=w(r,"BUTTON",{class:!0});var i=A(t);n=O(i,"Join "),a=O(i,e),i.forEach(p),o=N(r),s=w(r,"BR",{}),this.h()},h(){k(t,"class","btn bg-gradient-to-br variant-filled-secondary mt-3 w-25 text-sm lg:text-base h-8 lg:h-10")},m(r,i){y(r,t,i),b(t,n),b(t,a),y(r,o,i),y(r,s,i),u||(c=J(t,"click",_),u=!0)},p(r,i){l=r,i&1&&e!==(e=l[12][0]+"")&&W(a,e)},d(r){r&&(p(t),p(o),p(s)),u=!1,c()}}}function at(l){let t,n,e="Make Your Own!",a,o,s="Chatrooms:",u,c,_;function r(m,d){return m[0].length?et:tt}let i=r(l),f=i(l);return{c(){t=g("div"),n=g("button"),n.textContent=e,a=D(),o=g("h1"),o.textContent=s,u=D(),f.c(),this.h()},l(m){t=w(m,"DIV",{class:!0});var d=A(t);n=w(d,"BUTTON",{class:!0,["data-svelte-h"]:!0}),I(n)!=="svelte-h55r7m"&&(n.textContent=e),a=N(d),o=w(d,"H1",{class:!0,["data-svelte-h"]:!0}),I(o)!=="svelte-m7i81e"&&(o.textContent=s),u=N(d),f.l(d),d.forEach(p),this.h()},h(){k(n,"class","btn mb-10 text-center variant-filled"),k(o,"class","h1 text-center mb-5"),k(t,"class","m-4 overflow-auto")},m(m,d){y(m,t,d),b(t,n),b(t,a),b(t,o),b(t,u),f.m(t,null),l[5](t),c||(_=J(n,"click",l[3]),c=!0)},p(m,[d]){i===(i=r(m))&&f?f.p(m,d):(f.d(1),f=i(m),f&&(f.c(),f.m(t,null)))},i:P,o:P,d(m){m&&p(t),f.d(),l[5](null),c=!1,_()}}}function nt(l,t,n){let e;U(l,Q,h=>n(9,e=h));var a="",o="",s=[],u;let c;window.addEventListener("resize",()=>{try{n(1,c.style.maxHeight=(window.innerHeight-134).toString()+"px",c)}catch{}});async function _(){n(0,s=(await G("chats")).data.chatrooms),console.log(s)}q(async function(){n(1,c.style.maxHeight=(window.innerHeight-134).toString()+"px",c),e.token||x(H+"/login"),_(),u=setInterval(_,5e3)});async function r(h,v){v?S("Enter Password",async C=>{await B(h,C)&&x(H+"/chat")}):await B(h)&&x(H+"/chat")}async function i(h,v=""){return await $(h,v,!0)}async function f(){S("Name of the chatroom?",async h=>{a=h,a?Z("Do You Want a Password?",async v=>{v?S("Password Of The Chat Room?",async C=>{o=C,await i(a,o)&&T("All's well! Should show up soon!")}):await i(a)&&T("All's well! Should show up soon!")}):T("You need a chat room name!")})}z(()=>{clearInterval(u)});const m=h=>r(h[0],h[1]);function d(h){K[h?"unshift":"push"](()=>{c=h,n(1,c)})}return[s,c,r,f,m,d]}class mt extends X{constructor(t){super(),F(this,t,nt,at,L,{})}}export{mt as component};
