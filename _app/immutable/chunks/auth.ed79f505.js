import{f as r,g as s}from"./endpoint.115e5917.js";import{u as a}from"./stores.0e991afd.js";import{s as n}from"./alerts.73a0c392.js";import{g as i}from"./settings.05a1bf01.js";import{b as c}from"./paths.4a83971e.js";async function d(){const t=await i(["name","photo","schid"]);t&&!t.error&&(a.write("name",t.data.name),a.write("photo",t.data.photo),await s("schools/"+t.data.schid.toString(),{},a.readonce("token")).then(e=>{a.write("school",e.data.name)}))}async function h(t,e){const o=await r("login",{grant_type:"",username:t,password:e,scope:"",client_id:"",client_secret:""});return o.error?(console.log(o),n(`LOGIN ERROR: ${o.data.detail}`)):(a.write("token",o.data.access_token),d()),!o.error}function u(){a.wipe(),window.location.replace(c+"/")}export{h as c,u as l};
