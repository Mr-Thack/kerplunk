const f={"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},d={"Content-Type":"application/x-www-form-urlencoded","Access-Control-Allow-Origin":"*"};function w(t){return t="/api/"+t,window.location.host.split(":")[0]+":8000"+t}async function s(t,n,e,o,a){a&&(e.Authorization="Bearer "+a);let i=!1,c={},u=0;const h={method:t,headers:e};return t!=="GET"&&(h.body=o),await fetch("http://"+w(n),h).then(r=>(u=r.status,r.ok||(i=!0),r.json())).then(r=>c=r).catch(r=>{i=!0,c=r}),{error:i,data:c,status:u}}function p(t){var n=[];return Object.entries(t).forEach(([e,o])=>{typeof o=="string"||typeof o=="number"||typeof o=="boolean"||o instanceof String||o instanceof Number||o instanceof Boolean?n.push(encodeURIComponent(e)+"="+encodeURIComponent(o)):o.forEach(a=>{n.push(encodeURIComponent(e)+"="+encodeURIComponent(a))})}),n.join("&")}async function l(t,n={},e=""){return await s("POST",t,f,JSON.stringify(n),e)}async function y(t,n={},e=""){return await s("GET",t+"?"+p(n),f,"",e)}async function C(t,n={},e={},o=""){return await s("PATCH",t+"?"+p(e),f,n?"":JSON.stringify(n),o)}async function g(t,n={}){return await s("POST",t,d,p(n),"")}export{C as a,w as e,g as f,y as g,l as p};
