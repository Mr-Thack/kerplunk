import{f as r,g as n}from"./endpoint.cd1d59d5.js";import{u as a}from"./stores.88811b96.js";import{s}from"./alerts.73a0c392.js";import{g as i}from"./settings.82a6606d.js";async function c(){const t=await i(["name","photo","schid"]);t&&!t.error&&(a.write("name",t.data.name),a.write("photo",t.data.photo),await n("schools/"+t.data.schid.toString(),{},a.readonce("token")).then(o=>{a.write("school",o.data.name)}))}async function w(t,o){const e=await r("login",{grant_type:"",username:t,password:o,scope:"",client_id:"",client_secret:""});return e.error?(console.log(e),s(`LOGIN ERROR: ${e.data.detail}`)):(a.write("token",e.data.access_token),c()),!e.error}function g(){a.wipe(),window.location.replace("/index.html")}export{w as c,g as l};
